

<!--################################## Monthly billing table #########################################-->

<div class="col-xl-12 col-lg-7">
  <div class="card mb-4">
    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
      <h6 class="m-0 font-weight-bold text-gray-900"> <i class="fas fa-list fa-sm fa-fw mr-2"></i>List of Billing</h6>
      <!-- <div class="dropdown no-arrow">
        <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown"
          aria-haspopup="true" aria-expanded="false">
          <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-900"></i>
        </a>
        <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in"
          aria-labelledby="dropdownMenuLink">
          <div class="dropdown-header">Dropdown Header:</div>
          <a class="dropdown-item" href="#">Action</a>
          <a class="dropdown-item" href="#">Another action</a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="#">Something else here</a>
        </div>
      </div> -->
    </div>
    <div class="card-body">
        <div class = "pl-3">
            <button type="button" class="btn btn-outline-primary btn-icon-split" data-toggle="modal" data-target="#addBilling">
                <span class="icon text-light bg-primary">
                    <i class="fas fa-plus-circle"></i>
                </span>
                <span class="text">Add Bill</span>
            </button>
        </div>
        <div class="table-responsive p-3">
            <table class="table align-items-center table-flush table-hover" id="dataTable_billing">
              <thead class="thead-light">
                <tr>
                  <th class= "text-center">Select</th>
                  <th class= "text-center">#</th>
                  <th>Full Name</th>
                  <th>Present Reading</th>
                  <th>Previous Reading</th>
                  <th>Arrears</th>
                  <th>Cubic Meter Used</th>
                  <th>Month Covered</th>
                  <th>Date Issued</th>
                  <th>Total Amoount</th>
                  <th>Action</th>                  
                </tr>
              </thead>
              <tfoot class="thead-light">
                <tr>
                  <th class= "text-center"></th>
                  <th class= "text-center">#</th>
                  <th>Full Name</th>
                  <th>Present Reading</th>
                  <th>Previous Reading</th>
                  <th>Arrears</th>
                  <th>Cubic Meter Used</th>
                  <th>Month Covered</th>
                  <th>Date Issued</th>
                  <th>Total Amoount</th>
                  <th>Action</th>                  
                </tr>
              </tfoot>
              <tbody>
                <tr>
                  <td class= "text-center"></td>
                  <td class= "text-center">1</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>
                      <div class="btn-group dropleft">

                        <button type="button" class="btn btn-outline-info dropdown-toggle" data-toggle="dropdown"
                          aria-haspopup="true" aria-expanded="false">
                          <i class="fas fa-eye"></i>
                        </button>

                        <div class="dropdown-menu text-left pl-2 pr-2 bg-gray-200">
                            
                        <div class = "bg-gray-100">
                        <a href="#button" class="dropdown-item btn-hover-view btn btn-outline-primary btn-lg p-1"> 
                            <span class="icon">
                                <i class="fas fa-info-circle text-left"></i>
                            </span>
                            <span class="text">View Details</span>
                        </a>
                        <a href="#button" class="dropdown-item btn-hover-edit btn btn-outline-primary btn-lg p-1">
                            <span class="icon">
                                <i class="fas fa-edit text-left"></i>
                            </span>
                            <span class="text">Edit Bill</span>
                        </a>
                        <a href="#button" class="dropdown-item btn-hover-delete btn btn-outline-primary btn-lg p-1">
                            <span class="icon">
                                <i class="fas fa-trash"></i>
                            </span>
                            <span class="text">Delete Bill</span>
                        </a>
                        </div> 

                        </div>

                      </div>
                  </td>
                </tr>
                <tr>
                  <td class= "text-center"></td>
                  <td class= "text-center">1</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>
                      <div class="btn-group dropleft">

                        <button type="button" class="btn btn-outline-info dropdown-toggle" data-toggle="dropdown"
                          aria-haspopup="true" aria-expanded="false">
                          <i class="fas fa-eye"></i>
                        </button>

                        <div class="dropdown-menu text-left pl-2 pr-2 bg-gray-200">
                            
                        <div class = "bg-gray-100">
                        <a href="#button" class="dropdown-item btn-hover-view btn btn-outline-primary btn-lg p-1"> 
                            <span class="icon">
                                <i class="fas fa-info-circle text-left"></i>
                            </span>
                            <span class="text">View Details</span>
                        </a>
                        <a href="#button" class="dropdown-item btn-hover-edit btn btn-outline-primary btn-lg p-1">
                            <span class="icon">
                                <i class="fas fa-edit text-left"></i>
                            </span>
                            <span class="text">Edit Bill</span>
                        </a>
                        <a href="#button" class="dropdown-item btn-hover-delete btn btn-outline-primary btn-lg p-1">
                            <span class="icon">
                                <i class="fas fa-trash"></i>
                            </span>
                            <span class="text">Delete Bill</span>
                        </a>
                        </div> 

                        </div>

                      </div>
                  </td>
                </tr>
                <tr>
                  <td class= "text-center"></td>
                  <td class= "text-center">1</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>
                      <div class="btn-group dropleft">

                        <button type="button" class="btn btn-outline-info dropdown-toggle" data-toggle="dropdown"
                          aria-haspopup="true" aria-expanded="false">
                          <i class="fas fa-eye"></i>
                        </button>

                        <div class="dropdown-menu text-left pl-2 pr-2 bg-gray-200">
                            
                        <div class = "bg-gray-100">
                        <a href="#button" class="dropdown-item btn-hover-view btn btn-outline-primary btn-lg p-1"> 
                            <span class="icon">
                                <i class="fas fa-info-circle text-left"></i>
                            </span>
                            <span class="text">View Details</span>
                        </a>
                        <a href="#button" class="dropdown-item btn-hover-edit btn btn-outline-primary btn-lg p-1">
                            <span class="icon">
                                <i class="fas fa-edit text-left"></i>
                            </span>
                            <span class="text">Edit Bill</span>
                        </a>
                        <a href="#button" class="dropdown-item btn-hover-delete btn btn-outline-primary btn-lg p-1">
                            <span class="icon">
                                <i class="fas fa-trash"></i>
                            </span>
                            <span class="text">Delete Bill</span>
                        </a>
                        </div> 

                        </div>

                      </div>
                  </td>
                </tr>
                <tr>
                  <td class= "text-center"></td>
                  <td class= "text-center">1</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>Dummy</td>
                  <td>
                      <div class="btn-group dropleft">

                        <button type="button" class="btn btn-outline-info dropdown-toggle" data-toggle="dropdown"
                          aria-haspopup="true" aria-expanded="false">
                          <i class="fas fa-eye"></i>
                        </button>

                        <div class="dropdown-menu text-left pl-2 pr-2 bg-gray-200">
                            
                        <div class = "bg-gray-100">
                        <a href="#button" class="dropdown-item btn-hover-view btn btn-outline-primary btn-lg p-1"> 
                            <span class="icon">
                                <i class="fas fa-info-circle text-left"></i>
                            </span>
                            <span class="text">View Details</span>
                        </a>
                        <a href="#button" class="dropdown-item btn-hover-edit btn btn-outline-primary btn-lg p-1">
                            <span class="icon">
                                <i class="fas fa-edit text-left"></i>
                            </span>
                            <span class="text">Edit Bill</span>
                        </a>
                        <a href="#button" class="dropdown-item btn-hover-delete btn btn-outline-primary btn-lg p-1">
                            <span class="icon">
                                <i class="fas fa-trash"></i>
                            </span>
                            <span class="text">Delete Bill</span>
                        </a>
                        </div> 

                        </div>

                      </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="addBilling" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="addBillingLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="addBillingLabel">Billing Form</h5>
        <button type="button" class="btn btn-close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        
            <form>
              <div class="form-row">
                  <div class="form-group col-md-12">
                    <label for="selectConsumer">Select Customer</label>
                    <select style = "width:100%" class="select2-single-placeholder custom-select" name="state" id="selectConsumer" required>
                      <option value="">Select</option>
                      <option value="Aceh">Aceh</option>
                      <option value="Sumatra Utara">Sumatra Utara</option>
                      <option value="Sumatra Barat">Sumatra Barat</option>
                      <option value="Riau">Riau</option>
                      <option value="Kepulauan Riau">Kepulauan Riau</option>
                      <option value="Jambi">Jambi</option>
                    </select>
                    <div class="invalid-tooltip">
                        Required!
                    </div>
                  </div>
              </div>        
       
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="MeterReading">Meter Reading</label>
                <input type="text" class="form-control" id="MeterReading">
              </div>
              <div class="form-group col-md-6">
                <label for="Month">Month</label>
                <input type="month" class="form-control" id="Month">
              </div>
            </div>

            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="Arrears">Arrears</label>
                <input type="text" class="form-control" id="Arrears">
              </div>
              <div class="form-group col-md-6">
                <label for="AmmountToPay">Amount To Pay</label>
                <input type="text" class="form-control" id="AmmountToPay">
              </div>
            </div>



      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-success">Add & Save Now</button>
      </div>

      </form>

    </div>
  </div>
</div>
<!--################################## Monthly billing table End #########################################-->


<style>

    .btn-hover-view:hover {
        background-color: #36b9cc;
        color: white;
    }
    .btn-hover-edit:hover {
        background-color: #f6c23e;
        color: white; 
    }
    .btn-hover-delete:hover {
        background-color: #d52a1a;
        color: white;
    }
    .dt-button.white {
        color: white;
    }
   
    .dt-button.red {
        color: white;
    }
 
    .dt-button.green {
        color: white;
    }
    
    div.dt-button-collection {
    width: 400px;
    }
    
    div.dt-button-collection button.dt-button {
        display: inline-block;
        width: 32%;
    }
    div.dt-button-collection button.buttons-colvis {
        display: inline-block;
        width: 49%;
    }
    div.dt-button-collection h3 {
        margin-top: 5px;
        margin-bottom: 5px;
        font-weight: 100;
        border-bottom: 1px solid #9f9f9f;
        font-size: 1em;
    }
    div.dt-button-collection h3.not-top-heading {
        margin-top: 10px;
    }
</style>

  <script>
  
$(document).ready(function () {

  $('#selectConsumer').select2({
        placeholder: "Select a Customer",
        allowClear: true
      }); 

     $('#dataTable_billing').DataTable({
        "pageLength": 5,
         dom: 'Bfrtip',
        lengthMenu: [
            [5, 10, 20, -1],
            [5, 10, 20, 'All'],
        ],
        columnDefs: [ {
            orderable: false,
            className: 'select-checkbox',
            targets:   0
        } ],
        select: {
            style:    'os',
            selector: 'td:first-child'
        },
        order: [[ 1, 'asc' ]],
        // buttons: [
        //     {
        //         extend: 'collection',
        //         className: 'custom-html-collection',
        //         buttons: [
        //             '<h3>Export</h3>',
        //             {
        //         extend: 'print',
        //         customize: function ( win ) {
        //             $(win.document.body)
        //                 .css( 'font-size', '10pt' )
        //                 .prepend(
        //                     '<img src="<?= base_url() ?>img/logo/waterbilling_logo.png" style="position:absolute; top:100; left:280; opacity: 0.2;" />'
        //                 );
        //             $(win.document.body).find('h1').css('text-align', 'center');
        //             $(win.document.body).find( 'table' )
        //                 .addClass( 'compact' )
        //                 .css( 'font-size', 'inherit' );
        //         },
        //         text: '<i class="fas fa-print"></i> Print',
        //         className: 'white bg-secondary',
        //         exportOptions: {
        //             columns: ':visible'
        //         }
        //     },
        //     {
        //         extend: 'excelHtml5',
        //         text: '<i class="fas fa-file-excel"></i> Excel',
        //         className: 'green bg-success',
        //         exportOptions: {
        //             columns: ':visible'
        //         }
        //     },
        //     {
        //         extend: 'pdfHtml5',
        //         customize: function ( doc ) {
        //         doc.watermark = {text: 'From: Water Billing', color: 'blue', opacity: 0.1};
        //         },
        //         text: '<i class="fas fa-file-pdf"></i> PDF',
        //         className: 'red bg-danger',
        //         exportOptions: {
        //               columns: ':visible'
        //         }
        //     },
        //     '<h3 class="not-top-heading">Column Visibility</h3>',
        //     'colvis'
        //         ]
        //     }
        // ],
        "buttons": [
            {
                extend: 'pageLength',
                text: 'Rows',
                className: 'black bg-gray-200',
               
            },
            {
                extend: 'print',
                customize: function ( win ) {
                    $(win.document.body)
                        .css( 'font-size', '10pt' )
                        .prepend(
                            '<img src="<?= base_url() ?>img/logo/waterbilling_logo.png" style="position:absolute; top:100; left:280; opacity: 0.2;" />'
                        );
                    $(win.document.body).find('h1').css('text-align', 'center');
                    $(win.document.body).find( 'table' )
                        .addClass( 'compact' )
                        .css( 'font-size', 'inherit' );
                },
                text: '<i class="fas fa-print"></i> Print',
                className: 'white bg-secondary',
                exportOptions: {
                    columns: ':visible'
                }
            },
            {
                extend: 'excelHtml5',
                text: '<i class="fas fa-file-excel"></i> Excel',
                className: 'green bg-success',
                exportOptions: {
                    columns: ':visible'
                }
            },
            {
                extend: 'pdfHtml5',
                customize: function ( doc ) {
                doc.watermark = {text: 'From: Water Billing', color: 'blue', opacity: 0.1};
                },
                text: '<i class="fas fa-file-pdf"></i> PDF',
                className: 'red bg-danger',
                exportOptions: {
                      columns: ':visible'
                }
            },
            {
                extend: 'colvis',
                text: 'Select Column Visibility',
                className: 'red bg-info',
               
            }

				      
			],
            select: true
    }); 

});

  </script>